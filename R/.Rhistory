filtroSub <- "<th scope=\"col\"> | </th>"
sub(filtroSub,"", bolsa.titulos[[1]][[1]])
filtroSub <- "<th scope=\"col\">|</th>"
sub(filtroSub,"", bolsa.titulos[[1]][[1]])
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub,y="" {sub("</th>","", sub(filtroSub,"", bolsa.titulos[[1]][[1]]))})
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub,y="" sub("</th>","", sub(filtroSub,"", bolsa.titulos[[1]][[1]])))
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub) sub("</th>","", sub(filtroSub,"", bolsa.titulos[[1]][[1]])))
filtroSub <- "<th scope=\"col\">|</th>"
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub) sub("</th>","", sub(filtroSub,"", bolsa.titulos[[1]][[1]])))
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub) sub("</th>","", sub(filtroSub,"", x)))
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,filtroSub="<th scope=\"col\">|</th>") sub("</th>","", sub(filtroSub,"", x)))
bolsa.titulos.limpios
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,f1="<th scope=\"col\">|</th>") sub("</th>","", sub(f1,"", x)))
bolsa.titulos.limpios
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,f1="<th scope=\"col\">|</th>",f2="</th>") sub(f2,"", sub(f1,"", x)))
bolsa.titulos.limpios
bolsa.titulos.limpios <- sapply(as.character(bolsa.titulos),function(x,f1="<th scope=\"col\">|</th>",f2="</th>") sub(f2,"", sub(f1,"", x)))
bolsa.titulos.limpios
bolsa.titulos.limpios <- sapply(bolsa.titulos,function(x,f1="<th scope=\"col\">|</th>",f2="</th>") sub(f2,"", sub(f1,"", x)))
bolsa.titulos.limpios
bolsa.titulos.limpios <- lapply(bolsa.titulos,function(x,f1="<th scope=\"col\">|</th>",f2="</th>") sub(f2,"", sub(f1,"", x)))
bolsa.titulos.limpios
source.with.encoding('~/.active-rstudio-document', encoding='UTF-8')
bolsa.titulos.limpios
rm(bolsa*)
rm("bolsa*")
rm(bolsa)
rm(bolsa.columnas)
rm(bolsa.filas)
rm(bolsa.titulos)
rm(bolsa.titulos.limpios)
source.with.encoding('~/.active-rstudio-document', encoding='UTF-8')
bolsa.titulos.limpios
return(bolsa.titulos)
source('~/R/Bolsa.R')
rm(bolsa.titulos.limpios)
return(bolsa.titulos)
rm(bolsa.titulos)
rm(bolsa.filas)
rm(bolsa.columnas)
rm(bolsa)
bTitulos("Bolsa.txt")
source('~/R/Bolsa.R')
bTitulos("Bolsa.txt")
bolsa <- readLines("Bolsa.txt")
length(grep("<td class="DifFlSb" align="left">",bolsa))
length(grep("DifFlSb",bolsa))
grep("DifFlSb",bolsa)
tablaBolsa <- bolsa[grep("DifFlSb",bolsa)]
tablaBolsa
tablaBolsa <- bolsa[grep("DifFlSb",bolsa)]
regexpr(">(.*)?<",tablaBolsa)
gregexpr(">(.*)?<",tablaBolsa)
regexpr(">(.*)?</td>",tablaBolsa)
regexpr(">(.*?)<",tablaBolsa)
gregexpr(">(.*?)<",tablaBolsa)
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
tabla.filas <-grep("DifFlSb",bolsa)
tabla.columnas <-gregexpr(">(.*?)</tb>",bolsa[tabla.filas])
tabla.columnas
tablaBolsa
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
grep("DifFlSb",bolsa)
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
bTabla("bolsa.txt")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bTitulos(""http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx"")
bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsa <- bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
class(bolsa)
tBosla <- as.data.frame(bolsa)
View(tBosla)
tBosla <- as.data.frame(bolsa,optional=TRUE)
View(tBosla)
tBosla <- as.table(bolsa)
dim(bolsa)
length(bolsa)
bolsa[1][1]
bolsa[1][[1]]
bolsa[[1]][[1]]
tbolsa <- rbind(bolsa[1:33])
tbolsa
rm(tbolsa)
col(bolsa)
ncol(bolsa)
splitBolsa <- srtsplit(bolsa," fixed=TRUE")
splitBolsa <- strsplit(bolsa," fixed=TRUE")
srt(bolsa)
str(bolsa)
splitBolsa <- strsplit(bolsa," ", fixed=TRUE")
c
""
splitBolsa <- strsplit(bolsa," ", fixed=TRUE)
splitBolsa <- strsplit(bolsa," ")
splitBolsa <- strsplit(bolsa,"")
splitBolsa <- strsplit(bolsa,".")
splitBolsa <- strsplit(as.character(bolsa)," ")
splitBolsa
rm(splitBolsa)
rm(tbolsa)
rm(tBolsa)
rm(tBosla)
splitBolsa <- subset(bolsa)
fila1 <- rbind(fila1,bolsa[[1]][[1:9]])
fila1 <- data.frame()
fila1 <- rbind(fila1,bolsa[[1]][[1:9]])
bolsa[1]
lentgh(bolsa[1])
length(bolsa[1])
dim(bolsa[1])
arrayBolsa <- as.array(bolsa)
arrayBolsa
tableBolsa <- as.table(arrayBolsa)
tableBolsa
fix(tableBolsa)
fix(tableBolsa)
rm(tableBolsa)
rm(tablaBolsa)
tableBolsa <- as.data.frame(arrayBolsa)
View(tableBolsa)
View(tableBolsa)
rm(tableBolsa)
arrayBolsa <- as.array(bolsa)
dim(arrayBolsa)
rm(arrayBolsa)
rm(CLASS)
rn(age)
rm(age)
rm(agesVector)
rm(con)
rm(file)
rm(g)
rm(l1)
tm(tabla.columnas)
rm(tabla.columnas)
rm(tabla.filas)
rm(x,x1)
rm(y,y1)
rm(filtroSub)
rm(challenge.url)
rm(submit.url)
rm(fila1)
rm(VentasTienda)
bolsa
tbolsa <- readLines("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
tbolsa
grep(<"TAG\b[^>]*>(.*?)</TAG>",tbolsa)
grep("<TAG\b[^>]*>(.*?)</TAG>",tbolsa)
grep("<td\b[^>]*>(.*?)</td>",tbolsa)
tbolsa
grep("<td\b[^>]*>(.*?)</td>",tbolsa)
filtroTag <- "<td\b[^>]*>(.*?)</td>"
grep(filtro,tbolsa)
grep(filtroTag,tbolsa)
bolsa20131017 <- bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsa201231017
bolsa20131017
bolsa
filtroTag <- "<td[^>]*>(.*?)</td>"
grep(filtroTag,tbolsa)
bolsa <- readLines(file)
tablaBolsa <- readLines("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
tablaBolsa
tablaBolsaFilas <- grep("DifFlSb",bolsa)
tablaBolsaColumnas <- gregexpr(filtroTag,bolsa[tabla.filas])
tablaBolsaColumnas <- gregexpr(filtroTag,bolsa[tablaBolsaFilas])
tablaBolsaColumnas
tablaBolsaColumnas <- gregexpr(filtroTag,tablaBolsa[tablaBolsaFilas])
tablaBolsaColumnas
tablaBolsa[tablaBolsaFilas]
tablaBolsaFilas <- grep("DifFlSb",tablaBolsa)
tablaBolsaColumnas <- gregexpr(filtroTag,tablaBolsa[tablaBolsaFilas])
tablaBolsaColumnas
tablaDatos <- regmatches(tablaBolsa[tablaBolsaFilas],tablaBolsaColumnas)
tablaDatos
tablaDatos <- lapply(tablaDatos,function(x,f1="<td[^>]*>|</td>",f2="</") sub(f2,"", sub(f1,"", x)))
tablaDatos
tablaDatos <- lapply(tablaDatos,function(x,f1="<td[^>]*>|</td>",f2="td>?") sub(f2,"", sub(f1,"", x)))
tablaDatos
source('~/R/Bolsa.R')
bolsa20131017 <- bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsa20131017
source('~/R/Bolsa.R')
bolsa20131017 <- bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsa20131017
source('~/R/Bolsa.R')
bolsa20131017 <- bTabla("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsa20131017
rm(list=ls(tabla*))
rm(list=ls("tabla*""))
w
)
""
rm(list=ls("tabla*))
""
)
"
rm(list=ls("tabla*"))
ls(tabla*)
ls("tabla*"")
"
ls("tabla*")
ls()
ls(patern=="tabla*")
ls(pattern=="tabla*")
ls(pattern="tabla*")
rm(list=ls(pattern="tabla*"))
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos2("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
fix(bolsa)
sub("&#218;","U",bolsaTitulos)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos("http://www.bolsamadrid.es/esp/aspx/Indices/Resumen.aspx")
bolsaTitulos
source('~/R/Bolsa.R')
tablaBolsa <- rbind(bolsaTitulos,bolsa20130117)
tablaBolsa <- rbind(bolsaTitulos,bolsa20131017)
tablaBolsa
bolsa20131017
bolsaTitulos
class(bolsaTitulos)
class(bolsa20131017)
tablaBolsa <- c(bolsaTitulos,bolsa20131017)
tablaBolsa
df <- data.frame(matrix(unlist(tablaBolsa), nrow=13, byrow=T))
View(df)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
dim(tablaBolsa)
lenght(tablaBolsa)
nrow(tablaBolsa)
str(tablaBolsa)
df <- data.frame(matrix(unlist(tablaBolsa), nrow=35, byrow=T))
View(df)
source('~/R/Bolsa.R')
bolsaTitulos <- bTitulos(file)
bolsaDatos <- bTabla(file)
tablaBolsa <- c(bolsaTitulos,bolsaDatos)
tablaBolsa
df <- data.frame(matrix(unlist(tablaBolsa), nrow=34, byrow=T))
View(df)
length(tablaBolsa)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
View(df)
colnames(df) <- bolsaTitulos
View(df)
colnames(df) <- as.vector(bolsaTitulos)
View(df)
as.vector(bolsaTitulos)
as.vector(bolsaTitulos[[1]])
colnames(df) <- as.vector(bolsaTitulos[[1]])
View(df)
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
View(df)
bolsaTitulos <- bTitulos(file)
bolsaDatos <- bTabla(file)
df <- data.frame(matrix(unlist(tablaBolsa), nrow=length(tablaBolsa), byrow=T))
colnames(df) <- as.vector(bolsaTitulos[[1]])
View(df)
rm(df)
source('~/R/Bolsa.R')
View(df)
rm(df)
bolsaTitulos <- bTitulos(file)
bolsaDatos <- bTabla(file)
bolsaDatos
rm(list=ls(pattern="bolsa*"))
rm(tablabolsa)
rm(tablaBolsa)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
View(df)
bolsa <- readLines(file)
grep("DifFlSb",bolsa)
fix(bolsa)
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
View(df)
as.numeric(df[,3])
df[,3]
as.numeric(df[,4])
df[,4]
sub(",",".",df[,4])
as.numeric(sub(",",".",df[,4]))
as.numeric(sub(",",".",df[,3]))
as.numeric(sub(",",".",sub(".","",df[,3])))
as.numeric(sub(",",".",sub(".",",",df[,3])))
sub(".",",",df[,3])
as.double(gsub("[,]", ".", gsub("[.]", "", df[3])))
as.double(gsub("[,]", ".", gsub("[.]", "", df[,3])))
source('~/R/Bolsa.R')
View(df)
View(df)
class(df[,3])
source('~/R/Bolsa.R')
View(df)
source('~/R/Bolsa.R')
View(df)
fix(bolsaTitulos)
source('~/R/Bolsa.R')
View(df)
View(df)
source('~/R/Bolsa.R')
View(df)
View(df)
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
View(dfa)
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
View(dfa)
source('~/R/BolsaAcciones.R')
dfa[]
dfa[2:]
dfa[2:,]
dfa[2,]
dfa[2:nrow(dfa),]
source('~/R/BolsaAcciones.R')
View(dfa)
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
View(dfa)
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
source('~/R/Bolsa.R')
View(df)
View(df)
View(dfa)
View(dfa)
source('~/R/BolsaAcciones.R')
source('~/R/BolsaAcciones.R')
View(dfa)
View(dfa)
source('~/R/BolsaAcciones.R')
View(dfa)
View(dfa)
View(df)
source('~/R/Bolsa.R')
View(df)
View(df)
source('~/R/BolsaAcciones.R')
View(dfa)
View(dfa)
source('~/R/Bolsa.R')
View(df)
View(df)
